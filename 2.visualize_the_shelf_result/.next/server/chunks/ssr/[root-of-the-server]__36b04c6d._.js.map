{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/max/workspace/shelf_arrangement/2.visualize_the_shelf_result/src/components/ShelfVisualization.tsx"],"sourcesContent":["'use client'\n\nimport { ShelfWithPlacements } from '@/types'\n\ninterface ShelfVisualizationProps {\n  shelves: ShelfWithPlacements[]\n}\n\nexport default function ShelfVisualization({ shelves }: ShelfVisualizationProps) {\n  if (shelves.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center h-64 bg-gray-50 rounded-lg\">\n        <p className=\"text-gray-500\">No shelves found</p>\n      </div>\n    )\n  }\n\n  const maxX = Math.max(...shelves.filter(s => s.position_x !== null).map(s => s.position_x!))\n  const maxY = Math.max(...shelves.filter(s => s.position_y !== null).map(s => s.position_y!))\n  const minX = Math.min(...shelves.filter(s => s.position_x !== null).map(s => s.position_x!))\n  const minY = Math.min(...shelves.filter(s => s.position_y !== null).map(s => s.position_y!))\n\n  const scaleX = 800 / (maxX - minX || 1)\n  const scaleY = 600 / (maxY - minY || 1)\n  const scale = Math.min(scaleX, scaleY, 50)\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-md p-6\">\n      <h3 className=\"text-xl font-semibold mb-4\">Store Layout</h3>\n      <div className=\"relative bg-gray-50 rounded-lg overflow-hidden\" style={{ height: '600px' }}>\n        <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 800 600\">\n          {shelves.map((shelf) => {\n            if (shelf.position_x === null || shelf.position_y === null) return null\n            \n            const x = (shelf.position_x - minX) * scale + 50\n            const y = (shelf.position_y - minY) * scale + 50\n            const width = shelf.width * scale * 0.1\n            const height = shelf.depth * scale * 0.1\n            \n            const totalValue = shelf.inventory_placements.reduce((sum, p) => \n              sum + (p.inventories.price * p.inventories.quantity), 0\n            )\n            \n            const color = totalValue > 1000 ? '#ef4444' : totalValue > 500 ? '#f59e0b' : '#3b82f6'\n            \n            return (\n              <g key={shelf.id}>\n                <rect\n                  x={x}\n                  y={y}\n                  width={Math.max(width, 20)}\n                  height={Math.max(height, 20)}\n                  fill={color}\n                  stroke=\"#374151\"\n                  strokeWidth=\"1\"\n                  opacity=\"0.8\"\n                />\n                <text\n                  x={x + Math.max(width, 20) / 2}\n                  y={y + Math.max(height, 20) / 2}\n                  textAnchor=\"middle\"\n                  dominantBaseline=\"central\"\n                  fontSize=\"10\"\n                  fill=\"white\"\n                  fontWeight=\"bold\"\n                >\n                  {shelf.shelf_id}\n                </text>\n              </g>\n            )\n          })}\n        </svg>\n        \n        <div className=\"absolute bottom-4 right-4 bg-white p-3 rounded-lg shadow\">\n          <h4 className=\"font-medium text-sm mb-2\">Value Legend</h4>\n          <div className=\"space-y-1 text-xs\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-3 h-3 bg-blue-500 rounded\"></div>\n              <span>&lt; $500</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-3 h-3 bg-yellow-500 rounded\"></div>\n              <span>$500 - $1000</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-3 h-3 bg-red-500 rounded\"></div>\n              <span>&gt; $1000</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///home/max/workspace/shelf_arrangement/2.visualize_the_shelf_result/src/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\n// import ShelfCard from '@/components/ShelfCard'\nimport ShelfVisualization from '@/components/ShelfVisualization'\nimport StatsOverview from '@/components/StatsOverview'\nimport { ShelfWithPlacements } from '@/types'\n\nexport default function Home() {\n    const [shelves, setShelves] = useState<ShelfWithPlacements[]>([])\n    const [loading, setLoading] = useState(true)\n\n    const fetchShelves = async () => {\n        setLoading(true)\n        try {\n            const response = await fetch(\"/api/shelves\")\n            if (!response.ok) {\n                throw new Error('Failed to fetch shelves')\n            }\n            const data = await response.json()\n            console.log(data)\n            setShelves(data)\n        } catch (err: any) {\n            console.error('Error fetching shelves:', err)\n            // setError(err.message || 'An error occurred')\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    useEffect(() => {\n        fetchShelves()\n    }, [])\n\n    return (\n        <div>\n            {shelves.length > 0 ? (\n                shelves.map((shelf) => (\n                    <ShelfCard key={shelf.id} shelf={shelf} />\n                ))\n            ) : (\n                <div className=\"flex flex-col items-center justify-center min-h-screen\">\n                    {loading ? (\n                        <p className=\"text-gray-500\">Loading shelves...</p>\n                    ) : (\n                        <p className=\"text-red-500\">No shelves found.</p>\n                    )}\n                </div>\n            )}\n        </div>\n    )\n}\n\n\nconst ShelfCard = ({ shelf }: { shelf: ShelfWithPlacements }) => {\n    return (\n        <div className=\"mb-8\">\n            <h2 className=\"text-2xl font-bold mb-4\">Shelf ID: {shelf.id}</h2>\n            <div className=\"flex flex-col md:flex-row gap-6\">\n                <div className=\"md:w-1/2\">\n                    {shelf.inventory_placements.length > 0 ? (\n                        shelf.inventory_placements.map((placement) => (\n                            <Merchandise key={placement.id} merchandise={placement.inventory} />\n                        ))\n                    ):(\n                        <p className=\"text-gray-500\">No merchandise on this shelf.</p>\n                    )}\n                </div>\n                <div className=\"md:w-1/2\">\n                    <ShelfVisualization shelf={shelf} />\n                </div>\n            </div>\n        </div>\n    )\n}\n\nconst Merchandise = ({ merchandise }: { merchandise: any }) => {\n    return (\n        // return the size the merchandise occupies on the shelf\n\n        <div className=\"border p-2 rounded bg-white shadow\">\n            <h3 className=\"font-semibold\">{merchandise.name}</h3>\n            <p>Width: {merchandise.width} cm</p>\n            <p>Height: {merchandise.height} cm</p>\n            <p>Depth: {merchandise.depth} cm</p>\n            <p>Weight: {merchandise.weight} g</p>\n            <p>Price: ${merchandise.price}</p>\n            <p>Quantity: {merchandise.quantity}</p>\n        </div>\n    )\n}"],"names":[],"mappings":";;;;;AAEA;AACA,iDAAiD;AACjD;AAJA;;;;AAQe,SAAS;IACpB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gVAAQ,EAAwB,EAAE;IAChE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gVAAQ,EAAC;IAEvC,MAAM,eAAe;QACjB,WAAW;QACX,IAAI;YACA,MAAM,WAAW,MAAM,MAAM;YAC7B,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,IAAI,MAAM;YACpB;YACA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,QAAQ,GAAG,CAAC;YACZ,WAAW;QACf,EAAE,OAAO,KAAU;YACf,QAAQ,KAAK,CAAC,2BAA2B;QACzC,+CAA+C;QACnD,SAAU;YACN,WAAW;QACf;IACJ;IAEA,IAAA,iVAAS,EAAC;QACN;IACJ,GAAG,EAAE;IAEL,qBACI,6WAAC;kBACI,QAAQ,MAAM,GAAG,IACd,QAAQ,GAAG,CAAC,CAAC,sBACT,6WAAC;gBAAyB,OAAO;eAAjB,MAAM,EAAE;;;;sCAG5B,6WAAC;YAAI,WAAU;sBACV,wBACG,6WAAC;gBAAE,WAAU;0BAAgB;;;;;qCAE7B,6WAAC;gBAAE,WAAU;0BAAe;;;;;;;;;;;;;;;;AAMpD;AAGA,MAAM,YAAY,CAAC,EAAE,KAAK,EAAkC;IACxD,qBACI,6WAAC;QAAI,WAAU;;0BACX,6WAAC;gBAAG,WAAU;;oBAA0B;oBAAW,MAAM,EAAE;;;;;;;0BAC3D,6WAAC;gBAAI,WAAU;;kCACX,6WAAC;wBAAI,WAAU;kCACV,MAAM,oBAAoB,CAAC,MAAM,GAAG,IACjC,MAAM,oBAAoB,CAAC,GAAG,CAAC,CAAC,0BAC5B,6WAAC;gCAA+B,aAAa,UAAU,SAAS;+BAA9C,UAAU,EAAE;;;;0FAGlC,6WAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;kCAGrC,6WAAC;wBAAI,WAAU;kCACX,cAAA,6WAAC,mJAAkB;4BAAC,OAAO;;;;;;;;;;;;;;;;;;;;;;;AAK/C;AAEA,MAAM,cAAc,CAAC,EAAE,WAAW,EAAwB;IACtD,OACI,wDAAwD;kBAExD,6WAAC;QAAI,WAAU;;0BACX,6WAAC;gBAAG,WAAU;0BAAiB,YAAY,IAAI;;;;;;0BAC/C,6WAAC;;oBAAE;oBAAQ,YAAY,KAAK;oBAAC;;;;;;;0BAC7B,6WAAC;;oBAAE;oBAAS,YAAY,MAAM;oBAAC;;;;;;;0BAC/B,6WAAC;;oBAAE;oBAAQ,YAAY,KAAK;oBAAC;;;;;;;0BAC7B,6WAAC;;oBAAE;oBAAS,YAAY,MAAM;oBAAC;;;;;;;0BAC/B,6WAAC;;oBAAE;oBAAS,YAAY,KAAK;;;;;;;0BAC7B,6WAAC;;oBAAE;oBAAW,YAAY,QAAQ;;;;;;;;;;;;;AAG9C","debugId":null}},
    {"offset": {"line": 449, "column": 0}, "map": {"version":3,"sources":["file:///home/max/workspace/shelf_arrangement/2.visualize_the_shelf_result/node_modules/.pnpm/next%4015.5.2_react-dom%4019.1.0_react%4019.1.0__react%4019.1.0/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 468, "column": 0}, "map": {"version":3,"sources":["file:///home/max/workspace/shelf_arrangement/2.visualize_the_shelf_result/node_modules/.pnpm/next%4015.5.2_react-dom%4019.1.0_react%4019.1.0__react%4019.1.0/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,uMACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 473, "column": 0}, "map": {"version":3,"sources":["file:///home/max/workspace/shelf_arrangement/2.visualize_the_shelf_result/node_modules/.pnpm/next%4015.5.2_react-dom%4019.1.0_react%4019.1.0__react%4019.1.0/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,uMACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}