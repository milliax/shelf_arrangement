{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/max/workspace/shelf_arrangement/2.visualize_the_shelf_result/src/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef } from 'react'\n// import ShelfCard from '@/components/ShelfCard'\nimport { ShelfWithPlacements } from '@/types'\nimport { Inventory } from '../../generated/prisma'\nimport clsx from 'clsx'\n\nexport default function Home() {\n    const [shelves, setShelves] = useState<ShelfWithPlacements[]>([])\n    const [loading, setLoading] = useState(true)\n\n    const fetchShelves = async () => {\n        setLoading(true)\n        try {\n            const response = await fetch(\"/api/shelves\")\n            if (!response.ok) {\n                throw new Error('Failed to fetch shelves')\n            }\n            const data = await response.json()\n            console.log(data)\n            setShelves(data)\n        } catch (err: any) {\n            console.error('Error fetching shelves:', err)\n            // setError(err.message || 'An error occurred')\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    useEffect(() => {\n        fetchShelves()\n    }, [])\n\n    return (\n        <div>\n            {shelves.length > 0 ? (\n                shelves.map((shelf) => (\n                    <ShelfCard key={shelf.id} shelf={shelf} />\n                ))\n            ) : (\n                <div className=\"flex flex-col items-center justify-center min-h-screen\">\n                    {loading ? (\n                        <p className=\"text-gray-500\">Loading shelves...</p>\n                    ) : (\n                        <p className=\"text-red-500\">No shelves found.</p>\n                    )}\n                </div>\n            )}\n        </div>\n    )\n}\n\n\nconst ShelfCard = ({ shelf }: { shelf: any }) => {\n\n    console.log(\"shelf data\")\n    console.log(shelf)\n\n    return (\n        <div className=\"mb-8\">\n            <h2 className=\"text-2xl font-bold mb-4\">Shelf ID: {shelf.id}</h2>\n            <div className=\"flex flex-col md:flex-row gap-6\">\n                <div className=\"flex flex-row items-end gap-3 px-5 border-b\">\n                    {shelf.InventoryPlacement && shelf.InventoryPlacement.length > 0 ? (\n                        shelf.InventoryPlacement.map((placement: any) => (\n                            <Merchandise key={placement.id} merchandise={placement.inventory} />\n                        ))\n                    ) : (\n                        <p className=\"text-gray-500\">No merchandise on this shelf.</p>\n                    )}\n                </div>\n            </div>\n            <div className=\"flex flex-col md:flex-row gap-6\">\n                <div className=\"flex flex-row items-end gap-3 px-5 border-b \">\n                    {shelf.InventoryPlacement && shelf.InventoryPlacement.length > 0 ? (\n                        shelf.InventoryPlacement.map((placement: any) => (\n                            <MerchandiseDetail key={placement.id} merchandise={placement.inventory} />\n                        ))\n                    ) : (\n                        <p className=\"text-gray-500\">No merchandise on this shelf.</p>\n                    )}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nconst Merchandise = ({ merchandise }: { merchandise: Inventory }) => {\n    // return the size the merchandise occupies on the shelf\n    const divRef = useRef<HTMLDivElement | null>(null);\n\n    if (!merchandise) {\n        return <div>Invalid merchandise data</div>\n    }\n\n    useEffect(() => {\n        if (divRef.current) {\n            divRef.current.style.width = `${merchandise.width / 10}rem`;\n            divRef.current.style.height = `${merchandise.height / 10}rem`;\n        }\n    }, [merchandise])\n\n    return (\n        <div className={clsx(\"border p-2 rounded bg-white shadow mb-1\",\n            merchandise.isPromoted ? 'border-red-500' : 'border-gray-300',\n            // `${`w-[${merchandise.width}rem]`} h-[${merchandise.height}rem]`,\n            // 'w-40', // set a fixed size for demo purpose\n            // \"w-[5.51rem]\"\n            // )} style={{ width: `${merchandise.width / 10}rem`, height: `${merchandise.height / 10}rem` }}>\n        )} style={{ width: `${merchandise.width * 10}px`, height: `${merchandise.height * 50}px` }}>\n            {/* // )} ref={divRef}> */}\n            {/* set width according to merchandise.width */}\n            <h3 className=\"font-semibold text-center\">{merchandise.name}</h3>\n        </div >\n    )\n}\n\nconst MerchandiseDetail = ({ merchandise }: { merchandise: Inventory }) => {\n    // return the size the merchandise occupies on the shelf\n    const divRef = useRef<HTMLDivElement | null>(null);\n\n    if (!merchandise) {\n        return <div>Invalid merchandise data</div>\n    }\n\n    useEffect(() => {\n        if (divRef.current) {\n            divRef.current.style.width = `${merchandise.width / 10}rem`;\n            divRef.current.style.height = `${merchandise.height / 10}rem`;\n        }\n    }, [merchandise])\n\n    return (\n        <div className={clsx(\"text-center\",\n            // `${`w-[${merchandise.width}rem]`} h-[${merchandise.height}rem]`,\n            // 'w-40', // set a fixed size for demo purpose\n            // \"w-[5.51rem]\"\n            // )} style={{ width: `${merchandise.width / 10}rem`, height: `${merchandise.height / 10}rem` }}>\n        )} style={{ width: `${merchandise.width * 10}px`}}>\n            {/* // )} ref={divRef}> */}\n            {/* set width according to merchandise.width */}\n            {/* <h3 className=\"font-semibold\">{merchandise.name}</h3> */}\n            <p className='text-sm'>W:{merchandise.width}</p>\n            <p className='text-sm'>H:{merchandise.height}</p>\n            {/* <p>Depth: {merchandise.depth} cm</p>\n            <p>Weight: {merchandise.weight} g</p>\n            <p>Price: ${merchandise.price}</p>\n            <p>Quantity: {merchandise.quantity}</p> */}\n        </div >\n    )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":["file:///home/max/workspace/shelf_arrangement/2.visualize_the_shelf_result/node_modules/.pnpm/next%4015.5.2_react-dom%4019.1.0_react%4019.1.0__react%4019.1.0/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 277, "column": 0}, "map": {"version":3,"sources":["file:///home/max/workspace/shelf_arrangement/2.visualize_the_shelf_result/node_modules/.pnpm/next%4015.5.2_react-dom%4019.1.0_react%4019.1.0__react%4019.1.0/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,uMACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///home/max/workspace/shelf_arrangement/2.visualize_the_shelf_result/node_modules/.pnpm/next%4015.5.2_react-dom%4019.1.0_react%4019.1.0__react%4019.1.0/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,uMACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///home/max/workspace/shelf_arrangement/2.visualize_the_shelf_result/node_modules/.pnpm/clsx%402.1.1/node_modules/clsx/dist/clsx.mjs"],"sourcesContent":["function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;"],"names":[],"mappings":";;;;;;AAAA,SAAS,EAAE,CAAC;IAAE,IAAI,GAAE,GAAE,IAAE;IAAG,IAAG,YAAU,OAAO,KAAG,YAAU,OAAO,GAAE,KAAG;SAAO,IAAG,YAAU,OAAO,GAAE,IAAG,MAAM,OAAO,CAAC,IAAG;QAAC,IAAI,IAAE,EAAE,MAAM;QAAC,IAAI,IAAE,GAAE,IAAE,GAAE,IAAI,CAAC,CAAC,EAAE,IAAE,CAAC,IAAE,EAAE,CAAC,CAAC,EAAE,CAAC,KAAG,CAAC,KAAG,CAAC,KAAG,GAAG,GAAE,KAAG,CAAC;IAAC,OAAM,IAAI,KAAK,EAAE,CAAC,CAAC,EAAE,IAAE,CAAC,KAAG,CAAC,KAAG,GAAG,GAAE,KAAG,CAAC;IAAE,OAAO;AAAC;AAAQ,SAAS;IAAO,IAAI,IAAI,GAAE,GAAE,IAAE,GAAE,IAAE,IAAG,IAAE,UAAU,MAAM,EAAC,IAAE,GAAE,IAAI,CAAC,IAAE,SAAS,CAAC,EAAE,KAAG,CAAC,IAAE,EAAE,EAAE,KAAG,CAAC,KAAG,CAAC,KAAG,GAAG,GAAE,KAAG,CAAC;IAAE,OAAO;AAAC;uCAAgB","ignoreList":[0],"debugId":null}}]
}